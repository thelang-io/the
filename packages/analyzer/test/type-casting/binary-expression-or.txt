main {
  a: int?
  b: char | int | str
  c: int | str
  d: bool | int | str

  f: bool | char | int | str
  g: int | str

  v1 := a == nil || a == 2 ? 2 : a
  v2 := a == nil || 2 == a ? 3 : a

  v3 := a == nil || a == 2 ? a : a

  v5 := (d is int || d is str) ? false : d
  v6 := (d is int || d is str) ? d : c

  v7 := (c is str || g is str) ? 10 : g
  v8 := (c is str || g is str) ? g : 10

  v9 := (f is char || f is int || f is str) ? false : f
  v10 := (f is char || f is int || f is str) ? f : b
}
===== out =====
MainDeclaration()
  VariableDeclaration(name=a mutable=false constant=false type=int? context:varType=int?)
  VariableDeclaration(name=b mutable=false constant=false type=char | int | str context:varType=char | int | str)
  VariableDeclaration(name=c mutable=false constant=false type=int | str context:varType=int | str)
  VariableDeclaration(name=d mutable=false constant=false type=bool | int | str context:varType=bool | int | str)
  VariableDeclaration(name=f mutable=false constant=false type=bool | char | int | str context:varType=bool | char | int | str)
  VariableDeclaration(name=g mutable=false constant=false type=int | str context:varType=int | str)
  VariableDeclaration(name=v1 mutable=false constant=false context:varType=int)
    ConditionalExpression(initial=int)
      BinaryExpression(initial=bool operator=||)
        BinaryExpression(initial=bool operator===)
          Identifier(initial=int? name=a)
          NilLiteral(initial=int?)
        BinaryExpression(initial=bool operator===)
          Identifier(initial=int? target=int name=a)
          IntegerLiteral(initial=int value=2)
      IntegerLiteral(initial=int value=2)
      Identifier(initial=int? target=int name=a)
  VariableDeclaration(name=v2 mutable=false constant=false context:varType=int)
    ConditionalExpression(initial=int)
      BinaryExpression(initial=bool operator=||)
        BinaryExpression(initial=bool operator===)
          Identifier(initial=int? name=a)
          NilLiteral(initial=int?)
        BinaryExpression(initial=bool operator===)
          IntegerLiteral(initial=int value=2)
          Identifier(initial=int? target=int name=a)
      IntegerLiteral(initial=int value=3)
      Identifier(initial=int? target=int name=a)
  VariableDeclaration(name=v3 mutable=false constant=false context:varType=int?)
    ConditionalExpression(initial=int?)
      BinaryExpression(initial=bool operator=||)
        BinaryExpression(initial=bool operator===)
          Identifier(initial=int? name=a)
          NilLiteral(initial=int?)
        BinaryExpression(initial=bool operator===)
          Identifier(initial=int? target=int name=a)
          IntegerLiteral(initial=int value=2)
      Identifier(initial=int? name=a)
      Identifier(initial=int? name=a)
  VariableDeclaration(name=v5 mutable=false constant=false context:varType=bool)
    ConditionalExpression(initial=bool)
      ParenthesizedExpression(initial=bool)
        BinaryExpression(initial=bool operator=||)
          IsExpression(initial=bool is=int extra:type=int)
            Identifier(initial=bool | int | str name=d)
          IsExpression(initial=bool is=str extra:type=str)
            Identifier(initial=bool | int | str target=bool | str name=d)
      BooleanLiteral(initial=bool value=false)
      Identifier(initial=bool | int | str target=bool name=d)
  VariableDeclaration(name=v6 mutable=false constant=false context:varType=int | str)
    ConditionalExpression(initial=int | str)
      ParenthesizedExpression(initial=bool)
        BinaryExpression(initial=bool operator=||)
          IsExpression(initial=bool is=int extra:type=int)
            Identifier(initial=bool | int | str name=d)
          IsExpression(initial=bool is=str extra:type=str)
            Identifier(initial=bool | int | str target=bool | str name=d)
      Identifier(initial=bool | int | str target=int | str name=d)
      Identifier(initial=int | str name=c)
  VariableDeclaration(name=v7 mutable=false constant=false context:varType=int)
    ConditionalExpression(initial=int)
      ParenthesizedExpression(initial=bool)
        BinaryExpression(initial=bool operator=||)
          IsExpression(initial=bool is=str extra:type=str)
            Identifier(initial=int | str name=c)
          IsExpression(initial=bool is=str extra:type=str)
            Identifier(initial=int | str name=g)
      IntegerLiteral(initial=int value=10)
      Identifier(initial=int | str target=int name=g)
  VariableDeclaration(name=v8 mutable=false constant=false context:varType=int | str)
    ConditionalExpression(initial=int | str)
      ParenthesizedExpression(initial=bool)
        BinaryExpression(initial=bool operator=||)
          IsExpression(initial=bool is=str extra:type=str)
            Identifier(initial=int | str name=c)
          IsExpression(initial=bool is=str extra:type=str)
            Identifier(initial=int | str name=g)
      Identifier(initial=int | str name=g)
      IntegerLiteral(initial=int target=int | str value=10)
  VariableDeclaration(name=v9 mutable=false constant=false context:varType=bool)
    ConditionalExpression(initial=bool)
      ParenthesizedExpression(initial=bool)
        BinaryExpression(initial=bool operator=||)
          BinaryExpression(initial=bool operator=||)
            IsExpression(initial=bool is=char extra:type=char)
              Identifier(initial=bool | char | int | str name=f)
            IsExpression(initial=bool is=int extra:type=int)
              Identifier(initial=bool | char | int | str target=bool | int | str name=f)
          IsExpression(initial=bool is=str extra:type=str)
            Identifier(initial=bool | char | int | str target=bool | str name=f)
      BooleanLiteral(initial=bool value=false)
      Identifier(initial=bool | char | int | str target=bool name=f)
  VariableDeclaration(name=v10 mutable=false constant=false context:varType=char | int | str)
    ConditionalExpression(initial=char | int | str)
      ParenthesizedExpression(initial=bool)
        BinaryExpression(initial=bool operator=||)
          BinaryExpression(initial=bool operator=||)
            IsExpression(initial=bool is=char extra:type=char)
              Identifier(initial=bool | char | int | str name=f)
            IsExpression(initial=bool is=int extra:type=int)
              Identifier(initial=bool | char | int | str target=bool | int | str name=f)
          IsExpression(initial=bool is=str extra:type=str)
            Identifier(initial=bool | char | int | str target=bool | str name=f)
      Identifier(initial=bool | char | int | str target=char | int | str name=f)
      Identifier(initial=char | int | str name=b)
